Configuratron:
  use_only:
    - ds003775
  samples: 2560   # 10 seconds at 256 Hz
  sfreq: 256
  deep1010:
    return_mask: True

# ds004504 removed - has pre-epoched .set files DN3 can't load as raw
# ds007358 removed - didn't fully download
# no validation split since we only have one dataset

augmentation_params:
  upsample_crop: 32
  batch_crop_frac: 0.05

training_params:
  epochs: 10
  validation_interval: 100
  train_log_interval: 100
  batch_size: 32
  warmup_frac: 0.05

mask_threshold: 0.85
mask_inflation: 1.
mask_pct_max: 0.6

optimizer_params:
  lr: 0.00002
  weight_decay: 0.01
  betas: [0.9, 0.98]

bending_college_args:
  mask_rate: 0.065
  mask_span: 10
  layer_drop: 0.01
  multi_gpu: False
  temp: 0.1
  encoder_grad_frac: 0.1
  num_negatives: 20
  enc_feat_l2: 1.0

datasets:
  ds003775:
    toplevel: ./on/ds003775
    stride: 2560
    data_max: 0.001
    data_min: -0.001
    # lpf tells DN3 to apply a lowpass filter before loading, updating raw.info['lowpass']
    # so the aliasing check (new_sfreq < 2*lowpass) passes: 256 < 2*45 = 90 is False
    # the dataset is already bandpass filtered at 1-45 Hz so this is safe to re-apply
    lpf: 45.0
    picks:
      - eeg
